// Generated by CoffeeScript 1.6.3
(function() {
  var Asset, Panel, Setting,
    __slice = [].slice;

  Asset = require('models/model').Asset;

  Setting = require('models/model').Setting;

  Panel = {
    getData: function(path) {
      var _this = this;
      if (!path) {
        return this.log("Panel: path is empty, aborting " + path);
      }
      if (path === this.path) {
        return;
      }
      this.path = path;
      return Asset.get({
        path: path
      }).done(function() {
        return _this.trigger.apply(_this, ['ready'].concat(__slice.call(arguments)));
      }).fail(function() {
        return _this.log("Panel: Could not get data for panel " + path);
      });
    },
    setTitle: function(result) {
      var title;
      title = Setting.findByAttribute('name', 'title');
      return $('title').text("" + (result.headline || 'Imago') + " - " + title.value);
    }
  };

  module.exports = Panel;

}).call(this);

/*
//@ sourceMappingURL=panel.map
*/
